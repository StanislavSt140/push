package com.example.push.ui.screens

import androidx.compose.foundation.BorderStroke
import androidx.compose.foundation.background
import androidx.compose.foundation.border
import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.grid.GridCells
import androidx.compose.foundation.lazy.grid.LazyVerticalGrid
import androidx.compose.foundation.lazy.grid.itemsIndexed
import androidx.compose.foundation.shape.RoundedCornerShape
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.shadow
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
import androidx.navigation.NavController
import com.example.push.ui.components.AppHeader

@Composable
fun MainMenu(navController: NavController, modifier: Modifier = Modifier) {
    AppHeader(navController, "Push Menu") {

        Column(
            modifier = modifier.fillMaxSize().padding(top = 56.dp),
            verticalArrangement = Arrangement.Top,
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Spacer(modifier = Modifier.height(16.dp))

            // üîπ –°–ø–∏—Å–æ–∫ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–µ–Ω—é –∑ —ñ–∫–æ–Ω–∫–∞–º–∏
            val menuItems = listOf(
                Triple("Push School Shop", "shop", Icons.Default.ShoppingCart),
                Triple("–ì–æ–ª–æ–≤–Ω–∞", "home", Icons.Default.Home),
                Triple("–£—á–Ω—ñ–≤—Å—å–∫–∏–π –§–æ—Ä—É–º", "forum", Icons.Default.Face),
                Triple("–°–∫–∞—Ä–±–Ω–∏—á–∫–∞ –ø–æ–±–∞–∂–∞–Ω—å", "wishlist", Icons.Default.Favorite),
                Triple("–°–∫–∞—Ä–≥–∏", "complaints", Icons.Default.Warning),
                Triple("–®–∫—ñ–ª—å–Ω–∞ –§–æ—Ä–º–∞", "forms", Icons.Default.Check),
                Triple("–°–∏—Å—Ç–µ–º–∞ –∑–∞–æ—Ö–æ—á–µ–Ω–Ω—è", "rewards", Icons.Default.ThumbUp),
                Triple("Push News", "news", Icons.Default.Info),
                Triple("–ö—Ä–µ–∞—Ç–∏–≤–Ω–∏–π –ú–∞—Ä–∫–µ—Ç", "market", Icons.Default.ShoppingCart)
            )

// üîπ –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–ª–∏—Ç–∫–∏ –ø–æ 2 –≤ —Ä—è–¥
            LazyVerticalGrid(
                columns = GridCells.Fixed(2),
                modifier = Modifier.fillMaxSize(),
                contentPadding = PaddingValues(horizontal = 16.dp, vertical = 16.dp),
                horizontalArrangement = Arrangement.spacedBy(8.dp),
                verticalArrangement = Arrangement.spacedBy(8.dp)
            ) {
                itemsIndexed(menuItems) { index, (title, route, icon) ->
                    Box(
                        modifier = Modifier
                            .size(120.dp)
                            .shadow(8.dp, shape = RoundedCornerShape(8.dp)) // –î–æ–¥–∞—î —Ç—ñ–Ω—å
                            .border(BorderStroke(2.dp, Color(0xFF03736A)), shape = RoundedCornerShape(8.dp))
                            .background(Color.Transparent, shape = RoundedCornerShape(8.dp))
                            .clickable { navController.navigate(route) }
                    ) {
                        Column( // ‚úÖ –í—Å–µ —Ç–µ–ø–µ—Ä –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä–∞–º–∫–∏
                            modifier = Modifier.fillMaxSize(),
                            verticalArrangement = Arrangement.Center,
                            horizontalAlignment = Alignment.CenterHorizontally
                        ) {
                            Icon(icon, contentDescription = title, tint = Color(0xFF03736A))
                            Spacer(modifier = Modifier.height(4.dp))
                            Text(title,
                                fontSize = 14.sp,
                                modifier = modifier.padding(16.dp),
                                fontWeight = FontWeight.Medium,
                                color = Color.DarkGray
                            )
                        }
                    }
                }
            }
        }
    }
}